<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Genaver</title>

    <link rel="stylesheet" href="reveal/dist/reset.css">
    <link rel="stylesheet" href="reveal/dist/reveal.css">
    <link rel="stylesheet" href="reveal/dist/theme/black.css" id="theme">
    <link rel="stylesheet" href="genaver-presentation.css">

  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h1>Genaver!</h1>
          <h3>por Dave Aronson</h3>
          <br>
          <h5>
            T.Rex-2023@Codosaur.us<br>
            twitter.com/DaveAronson<br>
            linkedin.com/in/DaveAronson<br>
            github.com/CodosaurusLLC/genaver
          </h5>
          <aside class="notes">
            Ol&aacute;, S&atilde;o Paulo!&nbsp;
            Meu nome &eacute; Dave Aronson,
            sou o T. Rex de Codosaurus,
            e voei aqui no meu pterod&aacute;tilo de estima&ccedil;&atilde;o
            para vos ensinar sobre
            a minha gambiarra
            que eu chamo de
            GENAVER!

            <br><br>

            Geralmente, neste ponto de uma apresenta&ccedil;&atilde;o,
            eu digo, "Mas, vou faz&ecirc;-lo em ingl&ecirc;s",
            e depois
            "Mainly because you've just heard
            about half the whatever-language I speak".&nbsp;
            Mas neste caso, n&atilde;o seria a verdade!&nbsp;
            Minha esposa e eu estamos aprendendo o portugu&ecirc;s
            h&aacute; cerca de dois anos e meio,
            porque estamos pensando em aposentar-nos em . . .
            desculpem, n&atilde;o Brasil mas Portugal.&nbsp;
            Mas, bastante com a nossa vida pessoal,
            voltamos ao assunto.

            <br><br>

            O nome Genaver n&atilde;o &eacute; uma refer&ecirc;ncia &agrave;
            nome de menina . . .
          </aside>
          <!-- NOTE TO SELF: Timeslot is 45 mins; aim for 35-40 of content. -->
        </section>

        <section>
          <s class="main-text" style="font-size: 5em">867-5309</s>
          <aside class="notes">
            . . . Jennifer, nem . . .
          </aside>
        </section>

        <section>
          <img src="images/guinevere-and-lancelot.jpg" height="100%">
          <span class="slide-caption">Image: https://commons.wikimedia.org/wiki/File:Emil_Teschendorff_-_Queen_Guinevere_bidding_farewell_to_Sir_Lancelot.jpg</span>
          <aside class="notes">
            . . . Guinevere, nem . . .
          </aside>
        </section>

        <section>
          <img src="images/jenever.jpg" height="100%">
          <span class="slide-caption">Image: https://commons.wikimedia.org/wiki/File:King_%26_Barnes_Jenever_vaten.JPG</span>
          <aside class="notes">
            . . . a bebida, em verdade pronunciada je-NEE-ver.&nbsp;
            Genaver &eacute; uma abrevia&ccedil;&atilde;o para uma frase em ingl&ecirc;s,
          </aside>
        </section>

        <section>
          <div class="main-text" style="font-size: 3em">
            GENerate<br>
            A<br>
            VERsion
          </div>
          <aside class="notes">
            . . .
          GENerate A VERsion,
          ou em portugu&ecirc;s,
          gerar uma vers&atilde;o.&nbsp;
          Mas, uma vers&atilde;o do que, e por que?&nbsp;
          Voc&ecirc;s que viram . . .
          </aside>
        </section>

        <section>
          <img src="images/gambiconf-eu-monkey.jpg" height="100%">
          <span class="slide-caption">Image: logo at https://www.facebook.com/people/GambiConf/100079650866213/</span>
          <aside class="notes">
            . . . o GambiConf do ano passado, em Lisboa, podem lembrar de . . .
          </aside>
        </section>

        <section>
          <img src="images/gambiconf-eu-dave.png" height="100%">
          <span class="slide-caption">Image: https://www.facebook.com/102543485504335/photos/a.111732384585445/169776295447720/</span>
          <aside class="notes">
            . . . mim, falando (em ingl&ecirc;s) sobre Mutation Testing,
            ou em portugu&ecirc;s, Teste de Muta&ccedil;&atilde;o.&nbsp;

            <br><br>

            N&atilde;o foi a &uacute;nica vez que
            eu fiz essa apresenta&ccedil;&atilde;o.&nbsp;
            Eu a fiz com a introdu&ccedil;&atilde;o em
            muitas linguagens humanas,
            o c&oacute;digo em muitas linguagens de programa&ccedil;&atilde;o,
            e em v&aacute;rias dura&ccedil;&otilde;es,
            de vinte minutos a setenta.

            <br><br>

            Manter uma apresenta&ccedil;&atilde;o em PowerPoint ou Keynote,
            faz um arquivo muito grande e bin&aacute;rio.&nbsp;
            Por isso, &eacute; muito dif&iacute;cil de compar&aacute;-los,
            ou de encontrar uma boa frase de uma vers&atilde;o anterior,
            para coloc&aacute;-la numa vers&atilde;o nova<!--,
            especialmente se, entre a confer&ecirc;ncia anterior e agora,
            eu fiz uma vers&atilde;o menor,
            sem essa boa frase -->.

            <br><br>

            Por estas raz&otilde;es, eu queria um jeito de manter uma . . .
          </aside>
        </section>

        <section>
          <div class="center" style="border: 2px solid white; padding: 0.5em; width: fit-content">
            <h2>Apresenta&ccedil;&atilde;o</h2>
            <small>
            ...<br>
            Introdu&ccedil;&atilde;o em Portugu&ecirc;s<br>
            Introdu&ccedil;&atilde;o em Japon&ecirc;s<br>
            Introdu&ccedil;&atilde;o em Klingon<br>
            ...<br>
            Explica&ccedil;&atilde;o Prolixa<br>
            Explica&ccedil;&atilde;o Concisa (da mesma coisa)<br>
            ...<br>
            C&oacute;digo em Elixir<br>
            C&oacute;digo em Ruby<br>
            C&oacute;digo em Befunge<br>
            ...
            </small>
          </div>
          <aside class="notes">
            . . . "vers&atilde;o prim&aacute;ria",
            com a introdu&ccedil;&atilde;o e o c&oacute;digo em
            todas as linguagens que eu usei,
            e com todas as descri&ccedil;&otilde;es,
            todos os peda&ccedil;os que n&atilde;o mudam, etc.&nbsp;
            Ent&atilde;o, eu poderia gerar uma vers&atilde;o com, por exemplo,
            a introdu&ccedil;&atilde;o em japon&ecirc;s, o codigo em Ruby,
            e cabendo em quarenta e cinco minutos,
            ou com a introdu&ccedil;&atilde;o sueca, o codigo em Elixir
            (uma linguagem criado por um brasileiro!),
            e cabendo em trinta minutos,
            sem precisar editar o arquivo . . . muito.&nbsp;
            Idealmente, eu poderia fazer uma nova vers&atilde;o por
            adicionar as novas se&ccedil;&otilde;es nas novas linguagens,
            e passar novos argumentos
            para um programa para escolher essas linguagens,
            e as explica&ccedil;&otilde;es longas, curtas, ou m&eacute;dias.

            <br><br>

            Eu sabia que o primeiro passo seria
            p&ocirc;r a apresenta&ccedil;&atilde;o num
            formato textual (al&eacute;m das imagens).&nbsp;
            Felizmente, h&aacute; muitos sistemas de
            fazer apresenta&ccedil;&otilde;es en HTML ou Markdown.&nbsp;
            O mais famoso &eacute; RevealJS, qual eu escolhei,
            e qual estou usando para esta apresenta&ccedil;&atilde;o agora.

            <br><br>

            Depois disso, pensei que precisaria . . .
          </aside>
        </section>

        <section>
          <code><pre>
&lt;dave-special-tag linguagem-humana="portugu&ecirc;s"&gt;
  Isto &eacute; em portugu&ecirc;s
&lt;/dave-special-tag&gt;

&lt;dave-special-tag linguagem-humana="igpay-atinlay"&gt;
  Isthay isay inay igpay atinlay
&lt;/dave-special-tag&gt;

&lt;dave-special-tag linguagem-de-programa&ccedil;&atilde;o="elixir"&gt;
  IO.puts("Ol&aacute, mundo!")
&lt;/dave-special-tag&gt;

&lt;dave-special-tag linguagem-de-programa&ccedil;&atilde;o="c"&gt;
  printf("Ol&aacute, mundo!\n")
&lt;/dave-special-tag&gt;
          </pre></code>
          <aside class="notes">
            . . . marcar o HTML com tags especiais,
            e escrever um programa para
            aceitar argumentos que expressam meus desejos, analisar essa HTML,
            e . . .
          </aside>
        </section>

        <section>
          <div class="qtr"></div>
          <div class="half">
            Com argumentos de escolher portugu&ecirc;s e Elixir:
            <code style="font-size: 2em"><pre>
  Isto &eacute; em portugu&ecirc;s
  IO.puts("Ol&aacute, mundo!")
            </pre></code>
          </div>
          <aside class="notes">
            . . . fazer um novo arquivo de acordo com meus desejos.&nbsp;
            Eu me esforcei um pouco em pensar nisso, e procrastinei.&nbsp;
            Meses mais tarde, tenho a ideia de fazer
            um abuso grosseiro do . . .

          </aside>
        </section>

        <section>
          <div class="half">
            <code style="font-size: 1.5em"><pre>
#define ENGLISH   1
#define FRANCAIS  2
#define PORTUGU&Ecirc;S 3
#define WANTED_LANGUAGE PORTUGU&Ecirc;S
/* ... */
#if WANTED_LANGUAGE == ENGLISH
  Hello, world!
#elif WANTED_LANGUAGE == FRANCAIS
  Bonjour, monde!
#elif WANTED_LANGUAGE == PORTUGU&Ecirc;S
  Ol&aacute;, mundo!
#endif
            </pre></code>
            <aside class="notes">
              . . . pr&eacute;-processador da linguagem C,
              uma gambiarra verdadeira,
              usando principalmente as diretivas "define" e "if",
              e talvez . . .
          </aside>
        </section>

        <section>
          <div class="qtr"></div>
          <div class="half">
            <code style="font-size: 1.5em">
              <pre>
  #include "introduction"
  #include "problem_description"
  #include "proposed_solution"
  #include "tech_description"
  #include "pros_and_cons"
  #include "conclusion"
              </pre>
            </code>
          </div>
          <aside class="notes">
            . . . "include",
            para organizar os peda&ccedil;os de
            uma apresenta&ccedil;&atilde;o.&nbsp;
            Isso daria muito menos trabalho!&nbsp;
            Mas, de novo, eu procrastinei,
            porque n&atilde;o gostei muito dessa solu&ccedil;&atilde;o.&nbsp;
            Ela me pareceu um pouco ... suja demais.

            <br><br>

            Semanas mais tarde, eu discuti a ideia do programa
            com um outro palestrante.&nbsp;
            Ele recomendou que eu usasse
            uma biblioteca em Python para processamento de texto,
            com que ele teve muito sucesso.&nbsp;
            Ele come&ccedil;ou a usar isso porque ele queria
            se afastar do processamento de texto em JavaScript.
          </aside>
        </section>

        <section>
          <center>
            <span style="font-size: 4em">💡</span><br>
            <span style="font-size: 6em">👨🏽</span>
          </center>
          <aside class="notes">
            DING!&nbsp; Ou talvez, D'OH!

            <br><br>

            Finalmente, eu tive meu momento de l&acirc;mpada!&nbsp;
            O texto j&aacute; foi em HTML, e mudar a apar&ecirc;ncia de HTML
            &eacute; exatamente o papel de JavaScript!&nbsp;
            Melhor ainda, &eacute; uma das tarefas
            (na minha opini&atilde;o, das <i>poucas</i> tarefas)
            para as quais
            o JavaScript &eacute; verdadeiramente bom!&nbsp;
            Eu s&oacute; tinha que mudar minha ideia
            de copiar os peda&ccedil;os bons, a esconder os ruins!

            <br><br>

            Ent&atilde;o, eu fiz um pequeno Proof of Concept,
            ou em portugu&ecirc;s, Prova de Conceito.&nbsp;
          </aside>
        </section>

        <section>
          <aside class="notes">
          </aside>
        </section>

        <!-- MORE SCRIPT TO BE TURNED INTO SLIDES:

          J&aacute; comecei escrever minhas novas apresenta&ccedil;&otilde;es em RevealJS,
          e ia fazer uma, sobre Algor&iacute;tmos Gen&eacute;ticos,
          nas semanas que vem.&nbsp;
          Eu ia faz&ecirc;-la
          uma vez em vinte e cinco minutos com a introdu&ccedil;ao em espanhol,
          uma vez em trinta e cinco minutos com a introdu&ccedil;ao em holand&ecirc;s,
          e uma vez em cinquenta minutos com a introdu&ccedil;ao em noruegu&ecirc;s.&nbsp;
          Eu j&aacute; tive as tr&ecirc;s vers&otilde;es separadas, e as combinei,
          numa "vers&atilde;o prim&aacute;ria" para testar minha gambiarra.

          E . . . ela deu certo!  Eu pudesse passar argumentos diferentes ao JavaScript,
          para escolher a introdu&ccedil;&atilde;o,
          e esconder peda&ccedil;os que precisam tempo demais,
          &agrave;s vezes substituindo peda&ccedil;os menores.

          N&atilde;o ainda confiei nela, suficiente para us&aacute;-la nas confer&ecirc;ncias,
          mas continuei a adicionar recursos,
          como passar os argumentos na URL,
          substituindo pelos valores passado direto ao JavaScript.

          Ent&atilde;o, pudesse usar exatamente o mesmo HTML para
          muitas vers&otilde;es de uma apresenta&ccedil;&atilde;o,
          e configur&aacute;-lo com argumentos na URL.&nbsp;
          Por exemplo, no primeiro deslize da minha apresenta&ccedil;&atilde;o aqui hoje,
          h&aacute; estas duas URLs.&nbsp;
          Elas s&atilde;o diferentes s&oacute; nos argumentos,
          mas um d&aacute; esta apresenta&ccedil;&atilde;o com os "speaker notes" em portugu&ecirc;s brasileiro,
          como voces escutam agora,
          e a outra d&aacute;-los em ingl&ecirc;s.

          E agora, vamos dar uma olhada para como ela funciona.

          Inicialmente, ela aceita s&oacute; um argumento opcional passado ao JavaScript,
          que &eacute; uma lista de filtros, cada na forma de um string.

          Cada filtro tem uma chave, uma compara&ccedil;&atilde;o, e um valor,
          opcionalmente com espa&ccedil;os entre eles.

          As chaves representam escolhas como
          linguagem humana, linguagem de programa&ccedil;&atilde;o,
          tempo minimo ou maximo de qual uma coisa precisa,
          ou qualquer outra coisa que querem escolher.

          As compara&ccedil;&otilde;es sāo igual, n&atilde;o igual,
          menos, menos ou igual, mais, e mais ou igual.&nbsp;
          As compara&ccedil;&otilde;es de ordem s&atilde;o usadas s&oacute; para os valores num&eacute;ricos,
          e igual ou n&atilde;o-igual s&atilde;o para os n&uacute;meros e os strings.&nbsp;
          Por isso, voc&ecirc;s podem usar um filtro como
          "linguagem-humana = portugu&ecirc;s" (ou specificamente portugu&ecirc;s-brasileiro)
          mas n&atilde;o "linguagem-humana > portugu&ecirc;s".

          Genaver analisa os filtros, para extrair os peda&ccedil;os,
          e coloc&aacute;-los num dicion&aacute;rio.&nbsp;
          Nesse dicion&aacute;rio, as chaves s&atilde;o as dos filtros,
          e cada valore &eacute; outro pequeno dicion&aacute;rio,
          com as chaves "op" e "val",
          e os valores da compara&ccedil;&atilde;o e do valor do filtro.&nbsp;
          Por examplo, a lista dos filtros ["ling-humana = portugu&ecirc;s", "tempo-min <= 30"]
          se torna ao dicion&aacute;rio
          { "ling-humana": { "op": "=", "val": "portugu&ecirc;s" },
          "tempo-min": { "op": "<=", "val": 30 }}.
          (Notam que o trinta &eacute; um numero, sem aspas.)

          Depois de analisar o argumento no JavaScript, caso exista,
          ela faz exatamente a mesma coisa com os argumentos dado na URL.&nbsp;
          Por exemplo, se formos para "talk.html?ling-humana=english",
          agora o "portugu&ecirc;s" no dicion&aacute;rio &eacute; substitu&iacute;do por "english".
          As outras entradas no dicion&aacute;rio, como o limite de tempo de trinta minutos, continuam as mesmas.&nbsp;
          Ent&atilde;o, os argumentos no JavaScript podem ser usados como padr&otilde;es.

          Agora que Genaver tem todos os argumentos, ela os aplica ao documento.&nbsp;
          Para a compara&ccedil;&atilde;o de "n&atilde;o igual", &eacute; muito simples —
          ela usa querySelectorAll para encontrar todos os elementos
          com esse valor para esse atributo, e escond&ecirc;-los.&nbsp;
          Para "igual", &eacute; quase assim,
          ela encontra todos os elementos com esse atributo, com qualquer valor,
          itera atrav&eacute;s deles, e escond&ecirc;-los que n&atilde;o tem esse valor.&nbsp;
          Para as outras compara&ccedil;&otilde;es, &eacute; um pouco mais complexo que isso,
          porque precisa converter os atributos de strings em n&uacute;meros,
          e verificar seus rela&ccedil;&otilde;es ao argumento, mas ainda &eacute; bastante simples.&nbsp;
          Por exemplo, talvez queremos mostrar os elementos onde
          o atributo "data-foobar" &eacute; mais que 42.&nbsp;
          Genaver encontra os elementos com o atributo "data-foobar",
          e para cada um, ela converte o valor do atributo, de um string para um n&uacute;mero,
          e se n&atilde;o &eacute; mais que 42, ela esconde o elemento.

          E agora, vamos ver uma pequena demonstra&ccedil;&atilde;o.&nbsp;
          Aqui est&aacute; o c&oacute;digo da chamada a Genaver, desta apresenta&ccedil;&atilde;o.&nbsp;
          Podemos ver que a linguagem escolhida &eacute; portugu&ecirc;s.&nbsp;
          Isso faz sentido porque hoje &eacute; a primeira vez
          que eu fa&ccedil;o esta apresenta&ccedil;&atilde;o.

          E aqui est&aacute; o c&oacute;digo da pr&oacute;xima desliza.&nbsp;
          Podemos ver que h&aacute; uma frase sem linguagem marcado,
          e vers&otilde;es de uma outra frase, em portugu&ecirc;s, ingl&ecirc;s, e franc&ecirc;s.

          Vamos l&aacute;, e dar uma olhada para a URL.&nbsp;
          N&atilde;o tem argumentos l&aacute;, ent&atilde;o, vemos a vers&atilde;o em portugu&ecirc;s,
          como escolhido direto no JavaScript.&nbsp;
          Mas agora, vamos mudar a URL,
          para adicionar o argumento gv-linguagem=ingles.&nbsp;
          Precisamos o "gv" porque n&atilde;o queremos conflitar com arguments
          de algum outro programa.&nbsp;
          Se n&oacute;s recarregarmos a pagina,
          agora vemos a vers&atilde;o em ingles.&nbsp;
          E podemos fazer a mesma coisa com franc&ecirc;s,
          e tamb&eacute;m com linguagens de programa&ccedil;&atilde;o,
          separadamente da linguagem humana,
          por usar um outro atributo, como ling-prog ou qualquer.

          E aqui est&aacute; o c&oacute;digo da pr&oacute;xima desliza.&nbsp;
          Podemos ver que h&aacute; uma frase sem tempo marcado,
          uma outra, um pouco prolixa,
          marcada com o m&iacute;nimo tempo de trinta minutos,
          que significa "inclui isto s&oacute; se tenho trinta minutos ou mais",
          e uma outra, que diz a mesma coisa mas mais concisa,
          marcada com o m&aacute;ximo tempo de vinte-nove minutos,
          que significa "inclui isto s&oacute; se tenho vinte-nove minutos ou menos".
          Com isso par, precisamos tomar um pouco de cuidado.&nbsp;
          Vamos-l&aacute; para ver porque.

          Se n&atilde;o h&aacute; filtros de tempo, vemos ambos as vers&otilde;es!&nbsp;
          N&atilde;o &eacute; bom, haver duas frases que significam a mesma coisa.&nbsp;
          Mas agora, vamos adicionar alguns argumentos no URL,
          min-tempo menos ou igual trinta, e max-tempo mais ou igual trinta,
          e recarregar a pagina.&nbsp;
          Isso &eacute; o que eu faria se eu tivesse trinta minutos para falar.&nbsp;
          Ent&atilde;o, vemos s&oacute; os elementos
          sem min-tempo ou com min-tempo menos ou igual de trinta,
          e sem max-tempo ou com max-tempo mais ou igual de trinta,
          que nos d&aacute; s&oacute; a vers&atilde;o prolixa.&nbsp;
          Mas se mudarmos os argumentos para dizer que tenho s&oacute; vinte minutos,
          e recarregarmos a pagina,
          agora vemos s&oacute; a vers&atilde;o concisa.

        -->

          </div>
      </div>

      <script src="reveal/dist/reveal.js"></script>
      <script src="reveal/plugin/notes/notes.js"></script>
      <script src="reveal/plugin/markdown/markdown.js"></script>
      <script src="reveal/plugin/highlight/highlight.js"></script>
      <script src="../genaver.js"></script>
      <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        const width = 960;
        Reveal.initialize({
          controls: false,
          hash: true,
          history: true,
          transition: "none",
          transitionSpeed: "fast",
          width: width,
          height: width * 9 / 16,

          // Learn about plugins: https://revealjs.com/plugins/
          plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
        });
        // Reveal.configure({ pdfMaxPagesPerSlide: 1, showNotes: 'separate-page' });
        // generate_version(['ling-hum = portugu&ecirc;s']);  // linguagem humana
      </script>
  </body>
</html>
